MAPFS time=2025-02-25 12:22:09,121 level=INFO msg=Iniciando el servidor de métricas de Prometheus en el puerto 8012.
MAPFS time=2025-02-25 12:22:09,128 level=INFO msg=[REG] Conectado al CA en mapfs-cloud:5001
MAPFS time=2025-02-25 12:22:09,129 level=INFO msg=[REG] Enviada solicitud de registro al CA.
MAPFS time=2025-02-25 12:22:09,129 level=INFO msg=[REG] Recibidos parámetros públicos del CA: {'Pub_gc_key': {'x': 28016041725865967312176845563250474133521285695203706788428665086577198517474, 'y': 23976161944816471538076338850234997785604458081584766042393683318273522769049}, 'P_IoT_key': {'x': 99284342244383914923509531893348465789114011022055980731481010453518241587650, 'y': 42051977687689523936907964182636531521746747060850523130700341182277898620174}, 'operation': 'register'}.
MAPFS time=2025-02-25 12:22:09,132 level=INFO msg=[REG] Enviada información de registro al CA {'operation': 'register_device', 'IoT_Identity': 14298683174653260508, 'X_a_pub_key': {'x': 53900203203247509130795136978095308534475998206394829430384615371400520106076, 'y': 49945188154504550752077416167463283676421804900477408394126302908235290223236}, 'h_x': {'x': 60661055414851876309742992385260820327270976922341910042203248290429424889221, 'y': 36020562094759707950769391737950240647633464037389509466967032233911227130793}}.
MAPFS time=2025-02-25 12:22:09,133 level=INFO msg=[REG] Parámetros recibidos del CA: {'operation': 'register', 'sigma_a': 76285035664644245158160804480026983894571752602012882640830236159629020464705, 'Y_a_pub_key': {'x': 118829941488294359429753265868899364087318071383998662924672113997622693012, 'y': 25457859806000711981199754991835531061096116852664743256947454391039765821382}, 'h_a': 6677085086958906513258239627646084039478005254542223514632419837669700943764}.
MAPFS time=2025-02-25 12:22:09,133 level=INFO msg=[REG] Registro completado exitosamente.
MAPFS time=2025-02-25 12:22:09,135 level=INFO msg=Conectado al Gateway en mapfs-gateway:5000
MAPFS time=2025-02-25 12:22:09,137 level=INFO msg=[AUTH] Mensaje 'hello' enviado al Gateway {'operation': 'mutual_authentication', 'step': 'hello', 'one_time_public_key': {'x': 7088292301260485905132150975897631266646409844694035650224572633679913437137, 'y': 27754611834914833646102043688822606403212815133589033493615638577664600593878}}.
MAPFS time=2025-02-25 12:22:09,137 level=INFO msg=[AUTH] Token de autenticación del Gateway recibido: {'operation': b"\x9a\xebnjV\xae\xb6\x17\xa7\xb6'\x1a\xb6*'", 'W': {'x': 59143546506228853880604321118828718654558472699065529354843495265217810333406, 'y': 30134931330425824043034960079489454162757613770825670005225046587474121844800}, 'ID_w': 2083438182807212842, 'X_w_pub_key': {'x': 8845098255066629046805580635796768317488784232137532982721101963881043043294, 'y': 94240904857906626408252076997232178786230076288863012618513254438399197765785}, 'Y_w_pub_key': {'x': 56118693797020856893768380716509186115996223938114662277721145086519687935794, 'y': 56966466960099333455014484865189481546964127926378923406387956812242962798301}, 'sigma_z': 476169148468926618946540975951439941268202148142242846765596983551714800294}
MAPFS time=2025-02-25 12:22:09,142 level=INFO msg=[AUTH] Autenticación de la firma del Gateway exitosa.
MAPFS time=2025-02-25 12:22:09,145 level=INFO msg=[AUTH] La llave de sesión en el dispositivo IoT es: 1072341920219910
MAPFS time=2025-02-25 12:22:09,148 level=INFO msg=[AUTH] Cómputo de la firma del dispositivo IoT completada.
MAPFS time=2025-02-25 12:22:09,148 level=INFO msg=[AUTH] Puntos, compromisos y respuestas ZKP enviadas al gateway: {'operation': 'mutual_authentication', 'P_1': {'x': 11335521343780463122527412902323121662466967837384807438896550044662586128046, 'y': 82615224399778631914379441793947496478602192746700898856642945508135424277435}, 'P_2': {'x': 19904847224704312265404027889854085615267185920354006974329559128533527735878, 'y': 111395649676764551118499117838415546333870348065548128371962768930898045275671}, 'P_3': {'x': 92031109098798538251794675523275707365261060001669204778974032656717767960727, 'y': 74698008065492741037074567484603356545891785912827320619853569054771581927908}, 'sigma_t': 19034569068867452155196912279053249588107166279202134482033409229402058721614, 'T_1': {'x': 23721882851393569616985122484455014370779207980909826955668844379464773427679, 'y': 93068284753044968473560907588067070891409180124342292260031845285839860517852}, 'T_2': {'x': 28368031069752844332728459605109335335275781548945138606914291112412413367666, 'y': 62789338531840646200151340075909424774085731443552452893267783677555750329290}, 's_1': 60430728683658567267892022553628807886243308327321294988028163409978805366361, 's_2': 34854651706470551526663566807142645589565240908690713036396369997037620182056}
MAPFS time=2025-02-25 12:22:09,161 level=INFO msg=[AUTH] Autenticación mutua culminada.
MAPFS time=2025-02-25 12:22:09,162 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 29.34, 'humidity': 59.2}
MAPFS time=2025-02-25 12:22:09,163 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:23:09,169 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 26.05, 'humidity': 67.77}
MAPFS time=2025-02-25 12:23:09,171 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:29:11,637 level=INFO msg=Iniciando el servidor de métricas de Prometheus en el puerto 8012.
MAPFS time=2025-02-25 12:29:11,642 level=INFO msg=[REG] Conectado al CA en mapfs-cloud:5001
MAPFS time=2025-02-25 12:29:11,642 level=INFO msg=[REG] Enviada solicitud de registro al CA.
MAPFS time=2025-02-25 12:29:11,642 level=INFO msg=[REG] Recibidos parámetros públicos del CA: {'Pub_gc_key': {'x': 109521340432748956472139209563755641365087732359122554770476989078545074680657, 'y': 40595242514657673356073306240412431921351244935903944047919711663186952454746}, 'P_IoT_key': {'x': 43786896285046937119315437815159914505876922828525438313500292958631776988061, 'y': 63177569733180013220464876405260641918941762784898896634552622478675170881177}, 'operation': 'register'}.
MAPFS time=2025-02-25 12:29:11,645 level=INFO msg=[REG] Enviada información de registro al CA {'operation': 'register_device', 'IoT_Identity': 4817013578809384280, 'X_a_pub_key': {'x': 108258027930428254374648737500092581555238822129749451785535904747447721011384, 'y': 84764202574202673850736366554675194551348036385165788540773828922643800698107}, 'h_x': {'x': 958049345112114260479006112773690039875935080741368485906813216473123963615, 'y': 99743641350375824846883404205089831032660606981192488716321332880282167391421}}.
MAPFS time=2025-02-25 12:29:11,646 level=INFO msg=[REG] Parámetros recibidos del CA: {'operation': 'register', 'sigma_a': 82304842254591695994026422532792306057594952755073401011368345004821199592431, 'Y_a_pub_key': {'x': 18832015717852246093658270804604531706445729900186004056305197414001397490803, 'y': 80653102006237323686250111457364126309539819202246249059165983458851068239886}, 'h_a': 98558204309991489772323230878962324658255319672350130227524097179890628554832}.
MAPFS time=2025-02-25 12:29:11,646 level=INFO msg=[REG] Registro completado exitosamente.
MAPFS time=2025-02-25 12:29:11,647 level=INFO msg=Conectado al Gateway en mapfs-gateway:5000
MAPFS time=2025-02-25 12:29:11,649 level=INFO msg=[AUTH] Mensaje 'hello' enviado al Gateway {'operation': 'mutual_authentication', 'step': 'hello', 'one_time_public_key': {'x': 68680274172549401547534177808867129064268633035492157928453867677656826663302, 'y': 62702700176462769280685129183578922630982454961370360707488345437849062186626}}.
MAPFS time=2025-02-25 12:29:11,649 level=INFO msg=[AUTH] Token de autenticación del Gateway recibido: {'operation': b"\x9a\xebnjV\xae\xb6\x17\xa7\xb6'\x1a\xb6*'", 'W': {'x': 54821680924423679402377321111059506778766400598537449826815440571142298271863, 'y': 103648478385252965441593392498009715085866136984227381661943270812913648200512}, 'ID_w': 12265738250215494897, 'X_w_pub_key': {'x': 37001352849199150237342310370515020284594588191989815513079452807482237384180, 'y': 29959703618878373930477313050103011539318410592764756573361649049088358205007}, 'Y_w_pub_key': {'x': 106202547820244527209793730748026566738291299426667560935412560542464941157117, 'y': 27066070564997182651906951551276470236043234652966546794206592818827545148795}, 'sigma_z': 53826722757539277775377907121069927777884106311935696110173055472833937364502}
MAPFS time=2025-02-25 12:29:11,654 level=INFO msg=[AUTH] Autenticación de la firma del Gateway exitosa.
MAPFS time=2025-02-25 12:29:11,657 level=INFO msg=[AUTH] La llave de sesión en el dispositivo IoT es: 1446228819469386
MAPFS time=2025-02-25 12:29:11,659 level=INFO msg=[AUTH] Cómputo de la firma del dispositivo IoT completada.
MAPFS time=2025-02-25 12:29:11,660 level=INFO msg=[AUTH] Puntos, compromisos y respuestas ZKP enviadas al gateway: {'operation': 'mutual_authentication', 'P_1': {'x': 38973247595115323391539420141203016041983052640013053785809118164357967360166, 'y': 22415777058475630235477818425939466002197917846170014091928281807800444209703}, 'P_2': {'x': 73169141597878291886678950951524458176892287888406846956123494270390197013469, 'y': 74843877012472119251659313614733262986448881039864304852602255887116073073750}, 'P_3': {'x': 104148123326937756825879658388975862488958435166627359411753679508978350756083, 'y': 1347861896312009524821178100052610366616978608099304505856189797222035214012}, 'sigma_t': 21734883575133811296497393309291259822229377635483150697440782862011843262101, 'T_1': {'x': 46460471435793438623907518202936440285038428957016860735422234060470769304952, 'y': 12933384902081944407180980351677539525977105585912242283178358748765700491237}, 'T_2': {'x': 69228134575442567845183734690538240951674711583945659457860833105946203150507, 'y': 59186041639676213911814317695281179198089198357985997859533333208889534061557}, 's_1': 31327778849491648528909945255435746280913139906730395981864317384888681630334, 's_2': 52379487769509215952960487322382816810032449508169075992611581870526023604045}
MAPFS time=2025-02-25 12:29:11,673 level=INFO msg=[AUTH] Autenticación mutua culminada.
MAPFS time=2025-02-25 12:29:11,674 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 28.9, 'humidity': 60.47}
MAPFS time=2025-02-25 12:29:11,675 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:30:11,736 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 21.92, 'humidity': 53.38}
MAPFS time=2025-02-25 12:30:11,737 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:31:11,796 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 29.21, 'humidity': 57.44}
MAPFS time=2025-02-25 12:31:11,798 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:32:11,857 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 22.9, 'humidity': 64.95}
MAPFS time=2025-02-25 12:32:11,859 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:33:11,884 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 29.13, 'humidity': 56.57}
MAPFS time=2025-02-25 12:33:11,885 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:34:11,899 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 28.6, 'humidity': 53.05}
MAPFS time=2025-02-25 12:34:11,900 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:35:11,917 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 27.38, 'humidity': 62.36}
MAPFS time=2025-02-25 12:35:11,919 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:36:11,977 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 26.43, 'humidity': 55.6}
MAPFS time=2025-02-25 12:36:11,979 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:37:12,039 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 27.43, 'humidity': 60.51}
MAPFS time=2025-02-25 12:37:12,040 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:38:12,053 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 29.66, 'humidity': 67.35}
MAPFS time=2025-02-25 12:38:12,054 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:39:12,111 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 27.94, 'humidity': 68.19}
MAPFS time=2025-02-25 12:39:12,112 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:40:12,123 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 28.3, 'humidity': 61.07}
MAPFS time=2025-02-25 12:40:12,124 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:41:12,165 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 21.62, 'humidity': 65.08}
MAPFS time=2025-02-25 12:41:12,166 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:42:12,171 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 20.66, 'humidity': 53.27}
MAPFS time=2025-02-25 12:42:12,172 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:43:12,233 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 24.45, 'humidity': 61.85}
MAPFS time=2025-02-25 12:43:12,234 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:44:12,270 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 28.04, 'humidity': 68.45}
MAPFS time=2025-02-25 12:44:12,272 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:45:12,332 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 20.62, 'humidity': 53.07}
MAPFS time=2025-02-25 12:45:12,333 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:46:12,393 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 21.35, 'humidity': 61.98}
MAPFS time=2025-02-25 12:46:12,394 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:47:12,454 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 23.58, 'humidity': 54.32}
MAPFS time=2025-02-25 12:47:12,455 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:48:12,515 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 25.97, 'humidity': 68.72}
MAPFS time=2025-02-25 12:48:12,516 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-02-25 12:49:12,577 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 21.24, 'humidity': 65.85}
MAPFS time=2025-02-25 12:49:12,578 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-02-25 12:49:12,578 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
MAPFS time=2025-02-25 12:50:12,601 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 24.39, 'humidity': 56.37}
MAPFS time=2025-02-25 12:50:12,602 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-02-25 12:50:12,602 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
MAPFS time=2025-02-25 12:51:12,662 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 20.19, 'humidity': 62.76}
MAPFS time=2025-02-25 12:51:12,663 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-02-25 12:51:12,663 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
MAPFS time=2025-02-25 12:52:12,723 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 20.82, 'humidity': 55.12}
MAPFS time=2025-02-25 12:52:12,724 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-02-25 12:52:12,725 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
