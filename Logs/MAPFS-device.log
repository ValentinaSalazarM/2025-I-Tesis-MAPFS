MAPFS time=2025-04-20 15:38:05,213 level=INFO msg=Iniciando el servidor de métricas de Prometheus en el puerto 8012.
MAPFS time=2025-04-20 15:38:05,245 level=INFO msg=[REG] Conectado al CA en mapfs-cloud:5001
MAPFS time=2025-04-20 15:38:05,249 level=INFO msg=[REG] Enviada solicitud de registro al CA.
MAPFS time=2025-04-20 15:38:05,250 level=INFO msg=[REG] Recibidos parámetros públicos del CA: {'Pub_gc_key': {'x': 21177946515075061687550791694630544457495970075002376965874600479642368933534, 'y': 92236785872001380457189012603395899274187319854444042842081342129414266413390}, 'P_IoT_key': {'x': 11793167108374714450081443668939525841347829016346511493581507395368730469025, 'y': 22411024432054074270843369479455891801200931331140479066062892424924858034562}, 'operation': 'register'}.
MAPFS time=2025-04-20 15:38:05,258 level=INFO msg=[REG] Enviada información de registro al CA {'operation': 'register_device', 'IoT_Identity': 12690263487218622427, 'X_a_pub_key': {'x': 4012385738547435301142039489199932682211343568487251552973528691858139015094, 'y': 84726835359740451950929447891920657063279224681046027640857329293432813694342}, 'h_x': {'x': 4597832850250714819174401565828028026511559974200541778863284398515122962884, 'y': 105664474150913922576489664586532574527132288989349522430658517092260406060316}}.
MAPFS time=2025-04-20 15:38:05,261 level=INFO msg=[REG] Parámetros recibidos del CA: {'operation': 'register', 'sigma_a': 18458073250031974951220036867695258334923448955343069341127622735861293943965, 'Y_a_pub_key': {'x': 83704805075390084828880892119956347538020387902824187657320850778920410051239, 'y': 112287209389999757352027095666199169469281051028413447113166459860137049025351}, 'h_a': 27550289557081766113616009622046570385274335276087354250852223971515873831813}.
MAPFS time=2025-04-20 15:38:05,261 level=INFO msg=[REG] Registro completado exitosamente.
MAPFS time=2025-04-20 15:38:05,262 level=INFO msg=Conectado al Gateway en mapfs-gateway:5000
MAPFS time=2025-04-20 15:38:05,270 level=INFO msg=[AUTH] Mensaje 'hello' enviado al Gateway {'operation': 'mutual_authentication', 'step': 'hello', 'one_time_public_key': {'x': 20404082767355105443692771561123839541855884820554563060945580198520504055707, 'y': 28702998011945567854258662149020243923537589254371259038042824862898097354510}}.
MAPFS time=2025-04-20 15:38:05,270 level=INFO msg=[AUTH] Token de autenticación del Gateway recibido: {'operation': b"\x9a\xebnjV\xae\xb6\x17\xa7\xb6'\x1a\xb6*'", 'W': {'x': 94605702200446299135467957888679407602816973759398559165355491569800041023104, 'y': 70469839561251432690332927567355959634580542606650144024138647316900426596297}, 'ID_w': 3445939985476440605, 'X_w_pub_key': {'x': 45430545540069393172942792458423082409066439757237537565595191725645429671265, 'y': 114909364873093874814031642025679172288290918422996675110069379569963988914624}, 'Y_w_pub_key': {'x': 3029868824243643875722711890918973288729147127789719230203469428232660372707, 'y': 56749431097275587367271285635028116033939373862123034215890038219149915741680}, 'sigma_z': 72774760574563567446875734670326309675898750600424418682064873645167069883827}
MAPFS time=2025-04-20 15:38:05,279 level=INFO msg=[AUTH] Autenticación de la firma del Gateway exitosa.
MAPFS time=2025-04-20 15:38:05,283 level=INFO msg=[AUTH] La llave de sesión en el dispositivo IoT es: 1832926791702887
MAPFS time=2025-04-20 15:38:05,287 level=INFO msg=[AUTH] Cómputo de la firma del dispositivo IoT completada.
MAPFS time=2025-04-20 15:38:05,289 level=INFO msg=[AUTH] Puntos, compromisos y respuestas ZKP enviadas al gateway: {'operation': 'mutual_authentication', 'P_1': {'x': 95511148566065364250942207858655193192425991347096017143134118521577008182548, 'y': 99738441963798228302116853883118045234903444266142981682664839257102420392606}, 'P_2': {'x': 14786692938942507395523372845365320462344121344055736877234424935138572640338, 'y': 59883649057351848802948420705824181709843660438406455543038084742077617419653}, 'P_3': {'x': 2379776427754342215847616503272387354119552286279675908882668469333857606805, 'y': 53452390842102568830880033844100139093331372161346302970565721582733187540859}, 'sigma_t': 44651988492083546318664756690651736636786295566090409810471050550174398726479, 'T_1': {'x': 79214678450673299149243169067951913293216258974657367474296324328559064656822, 'y': 72410851273457565433907819995439634421315659407959859589314561380471417395252}, 'T_2': {'x': 27348732194992557422293750104402261912315356386515177229429345510238647213221, 'y': 85622316948126968419933596871524593993771915514305299164942574317642865139016}, 's_1': 17882882805808221906228973967540984802616824859666596766793161565663459690332, 's_2': 95065529860288403525297044608339879584156874565056814841929078410721385534040}
MAPFS time=2025-04-20 15:38:05,305 level=INFO msg=[AUTH] Autenticación mutua culminada.
MAPFS time=2025-04-20 15:38:05,322 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 23.04, 'humidity': 62.94}
MAPFS time=2025-04-20 15:38:05,334 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-04-20 15:39:05,417 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 28.98, 'humidity': 57.77}
MAPFS time=2025-04-20 15:39:05,419 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-04-20 15:40:05,476 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 28.22, 'humidity': 52.56}
MAPFS time=2025-04-20 15:40:05,477 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-04-20 15:41:05,522 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 26.03, 'humidity': 55.65}
MAPFS time=2025-04-20 15:41:05,523 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'success', 'message': 'Métricas recibidas correctamente.'}
MAPFS time=2025-04-20 15:42:05,556 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 25.63, 'humidity': 50.43}
MAPFS time=2025-04-20 15:42:05,557 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-04-20 15:42:05,558 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
MAPFS time=2025-04-20 15:43:05,614 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 26.61, 'humidity': 61.87}
MAPFS time=2025-04-20 15:43:05,616 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-04-20 15:43:05,616 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
MAPFS time=2025-04-20 15:44:05,672 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 22.96, 'humidity': 58.0}
MAPFS time=2025-04-20 15:44:05,673 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-04-20 15:44:05,673 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
MAPFS time=2025-04-20 15:45:05,732 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 27.75, 'humidity': 51.43}
MAPFS time=2025-04-20 15:45:05,733 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-04-20 15:45:05,734 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
MAPFS time=2025-04-20 15:46:05,787 level=INFO msg=[METRICS] Métricas cifradas enviadas al Gateway: {'temperature': 24.55, 'humidity': 66.34}
MAPFS time=2025-04-20 15:46:05,788 level=INFO msg=[METRICS] Respuesta recibida del Gateway: response_message = {'status': 'failed', 'message': 'Dispositivo no autenticado. No se aceptan métricas.'}
MAPFS time=2025-04-20 15:46:05,788 level=ERROR msg=[METRICS] Error de comunicación con el Gateway: Dispositivo no autenticado. Deteniendo envío de métricas.
